<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>InfiniteCanvas</title>
    <meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1">
    <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.1/showdown.min.js"></script>
    <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-core.min.js" data-manual></script>
    <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <link rel="stylesheet" type="text/css" href="index.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism.css" rel="stylesheet" />
</head>
<body>
<div class="inner">
<div class="markdown language-js">
# InfiniteCanvas
## About
`InfiniteCanvas` makes a `&lt;canvas&gt;` element virtually infinite in size, allowing you to pan the canvas in any direction and zoom in or out as far as you like. Simply create an `InfiniteCanvas` like this:

    var canvasElement = document.getElementById("canvas");
    var infCanvas = new InfiniteCanvas(canvasElement);

And then get a `CanvasRenderingContext2D` from it like you would with a regular `&lt;canvas&gt;`:

    var context = infCanvas.getContext("2d");

That's all! Now you can use `context` to draw on the `InfiniteCanvas` as described [here](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D). Check out this example (use Ctrl + scroll, or two fingers, to zoom):
</div>
<div>
    <iframe width="100%" height="400" src="https://jsfiddle.net/EmileFokkema/1mfv09b3/embedded/result,js,html,css,resources" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
</div>
<div class="markdown language-js">
## Infinity
But there's more. This `CanvasRenderingContext2D` is also a (you guessed it) `InfiniteCanvasRenderingContext2D`. Meaning it can do interesting stuff having to do with infinity.
### Infinitely big rectangles
The [html specifications for the canvas element](https://html.spec.whatwg.org/multipage/canvas.html#dom-context-2d-fillrect) say that when one of the arguments to the function `fillRect` is infinite (i.e. has the value `Infinity` or `-Infinity`), the canvas should draw nothing. Well, `InfiniteCanvas` does draw something. If you call `fillRect` with one or more arguments being infinite, like so:

    context.fillRect(50, 50, Infinity, 30);

then the result will be just what you would expect: a rectangle whose top left corner is situated at (50, 50), that has a height of 30 and that extends to the right indefinitely. Like this (zoom out to see more of the rectangle):
</div>
<div>
    <iframe width="100%" height="400" src="https://jsfiddle.net/EmileFokkema/gqmez58r/embedded/result,js,html,css,resources" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
</div>
<div class="markdown language-js">
But not only the width or height of the rectangle can be infinite; so can the x or y coordinate of the corner. So doing

    context.fillRect(-Infinity, 50, Infinity, 50);

will give you a rectangle whose top is at 50, whose bottom is at 100 and that extends to the left and right indefinitely. However, if the x coordinate of the corner is infinite, a rectangle will only be visible if the width is also infinite and has the opposite sign. (The same goes for the y coordinate of the corner and the height.) So doing

    context.fillRect(-Infinity, -Infinity, 50, 50);

would draw a rectangle with width and height equal to 50, and located nowhere. It would not be visible.

So these are the kinds of infinite rectangles you can draw:
</div>
<div>
    <iframe width="100%" height="650" src="https://jsfiddle.net/EmileFokkema/y64wn0e8/embedded/result,js,html,css,resources" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
</div>
</div>
<a href="https://github.com/emilefokkema/infinite-canvas-2" id="githubLink"><img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
<script>
    (function(){
        var converter = new showdown.Converter();
        var markdownDivs = document.querySelectorAll(".markdown");
        for(var i=0;i<markdownDivs.length;i++){
            var md = markdownDivs[i].textContent;
            var html = converter.makeHtml(md);
            markdownDivs[i].innerHTML = html;
        }
        Prism.highlightAll(true);
    })();
</script>
</body>
</html>
