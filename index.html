<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>InfiniteCanvas</title>
    <meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1">
    <script type="application/javascript" src="scripts/infinite-canvas.js"></script>
    <script type="application/javascript" src="https://cdn.rawgit.com/showdownjs/showdown/1.9.1/dist/showdown.min.js"></script>
    <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-core.min.js" data-manual></script>
    <script type="application/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.6/ace.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="index.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism.css" rel="stylesheet" />
</head>
<body>
<div class="inner">
<div class="markdown language-js">
# InfiniteCanvas
## About
`InfiniteCanvas` makes any `&lt;canvas&gt;` element infinite in size. In other words, it allows you to pan the canvas in any direction and zoom in or out as far as you like. All it takes is a few lines of code:

    var infCanvas = new InfiniteCanvas(canvas); // assuming 'canvas' refers to an HTMLCanvasElement
    var ctx = infCanvas.getContext("2d");

That's all! The variable `ctx` now holds a `CanvasRenderingContext2D`, which you can use to draw as described [here](https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D). Check out this live example:
</div>
<div class="infinite-canvas-example">
var infCanvas = new InfiniteCanvas(canvas);
var ctx = infCanvas.getContext("2d");

//Earth
ctx.save();
ctx.translate(150, 100250);
ctx.scale(100000, 100000);
var gradient = ctx.createRadialGradient(0, 0, 1, 0, 0, 1.3);
gradient.addColorStop(0, "#fff");
gradient.addColorStop(0.005, "#6af");
gradient.addColorStop(0.2, "#006");
gradient.addColorStop(1, "#000");
ctx.beginPath();
ctx.arc(0, 0, 2, 0, 2 * Math.PI);
ctx.fillStyle = gradient;
ctx.fill();
ctx.beginPath();
ctx.arc(0, 0, 1, 0, 2 * Math.PI);
ctx.fillStyle = "#0a0";
ctx.fill();
ctx.restore();

// Set line width
ctx.lineWidth = 10;

// Wall
ctx.strokeRect(75, 140, 150, 110);

// Door
ctx.fillRect(130, 190, 40, 60);

// Roof
ctx.beginPath();
ctx.moveTo(50, 140);
ctx.lineTo(150, 60);
ctx.lineTo(250, 140);
ctx.closePath();
ctx.stroke();
</div>
<div class="markdown language-js">
## Controlling user interaction
In the example above, you can only zoom the canvas by pressing the Control key and using the mouse wheel. You can change this behavior by setting one of the `InfiniteCanvas`'s properties:

    infCanvas.greedyGestureHandling = true;

Now, you can zoom the canvas by simply using the mouse wheel, as in this example:
</div>
<div class="infinite-canvas-example">
var infCanvas = new InfiniteCanvas(canvas);
infCanvas.greedyGestureHandling = true;
var ctx = infCanvas.getContext("2d");

ctx.fillStyle = "#f00";
ctx.fillRect(20, 20, 100, 100);
</div>
<div class="markdown language-js">
In the two preceding examples, you could rotate the canvas by pressing the mouse's middle button and moving the mouse. You can disable rotation by setting another of the `InfiniteCanvas`'s properties:

    infCanvas.rotationEnabled = false;

Now rotating the canvas is no longer possible, as in the following example:
</div>
<div class="infinite-canvas-example">
var infCanvas = new InfiniteCanvas(canvas);
infCanvas.rotationEnabled = false;
var ctx = infCanvas.getContext("2d");

ctx.fillStyle = "#00f";
ctx.fillRect(20, 20, 100, 100);
</div>
</div>
<a href="https://github.com/emilefokkema/infinite-canvas-2" id="githubLink"><img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
<script>
    (function(){
        var converter = new showdown.Converter();
        var markdownDivs = document.querySelectorAll(".markdown");
        for(var i=0;i<markdownDivs.length;i++){
            var md = markdownDivs[i].textContent;
            var html = converter.makeHtml(md);
            markdownDivs[i].innerHTML = html;
        }
        var examplesCreated = false;
        var createExample = function(exampleEl){
            var code = exampleEl.textContent.replace(/^\s*/g,"").replace(/\s*$/, "");
            exampleEl.innerHTML = "";
            var canvas;
            var editorDiv = document.createElement("div");
            editorDiv.setAttribute("class","example-editor");
            exampleEl.appendChild(editorDiv);
            var runButton = document.createElement("button");
            runButton.innerHTML = "Run";
            exampleEl.appendChild(runButton);
            var editor = ace.edit(editorDiv);
            editor.session.setMode("ace/mode/javascript");
            editor.setValue(code);
            editor.clearSelection();
            var run = function(){
                if(canvas){
                    exampleEl.removeChild(canvas);
                }
                canvas = document.createElement("canvas");
                canvas.setAttribute("width", 400);
                canvas.setAttribute("height", 400);
                exampleEl.insertBefore(canvas, editorDiv);
                var f = new Function("canvas", editor.getValue());
                f.apply(window, [canvas]);
            };
            run();
            runButton.addEventListener("click", run);
        };
        Prism.highlightAll(true, function(){
            if(examplesCreated){
                return;
            }
            var examples = document.querySelectorAll(".infinite-canvas-example");
            for(var i=0; i<examples.length;i++){
                createExample(examples[i]);
            }
            examplesCreated = true;
        });
    })();
</script>
</body>
</html>